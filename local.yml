---
- hosts: localhost
  become: yes
  tasks:
  
  - name: Copy wallpaper
    copy:
      src: files/ansible_wallpaper.jpg
      dest: /usr/share/backgrounds/ansible_wallpaper.jpg
      owner: root
      group: root

  - name: Install missing packages
    package:
      name: virtualbox-guest-dkms,virtualbox-guest-x11
      state: present
 
- hosts: localhost
  tasks:
  - name: Chnage the wallpaper
    dconf:
      key: "/org/gnome/desktop/background/picture-uri"
      value: "'file:///usr/share/backgrounds/ansible_wallpaper.jpg'"
  - name: Chnage the theme
    dconf:      
      key: "/org/gnome/desktop/interface/gtk-theme"
      value: "'Arc-Dark'"
  - name: Chnage the icons
    dconf:      
      key: "/org/gnome/desktop/interface/icon-theme"
      value: "'TelaBudgie'"
